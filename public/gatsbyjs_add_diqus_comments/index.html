<!doctype html><html><head><meta charset=utf-8><title>Add Disqus comments to a GatsbyJS static blog &ndash; /dev/null
</title><script src=https://cdn.tailwindcss.com></script><link href="//fonts.googleapis.com/css?family=Work+Sans:600|Quattrocento+Sans:400,400i,700" rel=stylesheet type=text/css><link rel=stylesheet type=text/css href=https://pasdam.github.io/blog//css/global.css><link rel=icon href=favicon.svg></head><body><header id=page-header class=bg-green><a href=/><h1>/dev/null</h1></a></header><div id=main><div class=post-body><h1 class=text-green>Add Disqus comments to a GatsbyJS static blog</h1><p class=text-gray-400>April 27, 2019 &mdash; 2 Min Read</p><hr><div class=tags><div class=tag><a href=/blog/tags/blog/ class=test>Blog</a></div><div class=tag><a href=/blog/tags/comments/ class=test>Comments</a></div><div class=tag><a href=/blog/tags/disqus/ class=test>Disqus</a></div><div class=tag><a href=/blog/tags/gatsbyjs/ class=test>GatsbyJS</a></div><div class=tag><a href=/blog/tags/tutorial/ class=test>Tutorial</a></div></div><hr><nav id=TableOfContents><ul><li><a href=#add-website-to-disqus>Add website to Disqus</a></li><li><a href=#configure-gatsbyjs-to-load-disqus-comments>Configure GatsbyJS to load Disqus comments</a></li></ul></nav><hr><div class=content><p>There are <a href=https://www.gatsbyjs.org/blog/2018-04-10-how-to-handle-comments-in-gatsby-blogs/>different ways</a> to add a comments section to your static website or blog, in this guide we won&rsquo;t talk about pros and cons of each solution but we will actually focus on how to use <a href=https://disqus.com>Disqus</a> to enable users to leave comments on a blog generated with <a href=https://www.gatsbyjs.org/>GatsbyJS</a>.</p><p>Even though this tutorial is focused on <a href=https://www.gatsbyjs.org/>GatsbyJS</a> it should apply to any React website.</p><h2 id=add-website-to-disqus>Add website to Disqus</h2><p><a href=https://disqus.com>Disqus</a> offers an easy to use platform to add comments to your website.</p><p>According to <a href=https://en.wikipedia.org/wiki/Disqus>Wikipedia</a>:</p><blockquote><p><a href=https://disqus.com>Disqus</a> is a worldwide blog comment hosting service for web sites and online communities that use a networked platform. The company&rsquo;s platform includes various features, such as social integration, social networking, user profiles, spam and moderation tools, analytics, email notifications, and mobile commenting.</p></blockquote><p>Note: the info about the users and the comments will be stored on <a href=https://disqus.com>Disqus</a> servers.</p><p>The first thing to do, if you didn&rsquo;t do it yet, is to <strong>create an account</strong> and then <strong>register your new website</strong> in order to get the <strong>shortname</strong>, that will be used to retrieve the script that will load the comments section. It will be something like:</p><pre tabindex=0><code class=language-none data-lang=none>pasdam-github-io
</code></pre><h2 id=configure-gatsbyjs-to-load-disqus-comments>Configure GatsbyJS to load Disqus comments</h2><p>Next thing to do is to configure the <a href=https://www.gatsbyjs.org/>GatsbyJS</a> website to load the <a href=https://disqus.com>Disqus</a> section. To do this there are few <a href=https://www.gatsbyjs.org/>GatsbyJS</a> plugins, but in this tutorial we&rsquo;ll use the official React one.</p><p>So let&rsquo;s install it with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install disqus-react
</span></span></code></pre></div><p>The previous command will add the plugin to yours <code>package.json</code> file and download the required module.</p><p>Finally, last thing left to do is to add the section to the blog page, right under the article content (or wherever you prefer):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>DiscussionEmbed</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;disqus-react&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Article</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>render</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>disqusShortname</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;example&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>disqusConfig</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>identifier</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>article</span>.<span style=color:#a6e22e>id</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>article</span>.<span style=color:#a6e22e>title</span>,
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;article&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>h1</span><span style=color:#f92672>&gt;</span>{<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>article</span>.<span style=color:#a6e22e>title</span>}<span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/h1&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>{<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>article</span>.<span style=color:#a6e22e>body</span>}<span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/p&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Disqus</span>.<span style=color:#a6e22e>DiscussionEmbed</span> <span style=color:#a6e22e>shortname</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>disqusShortname</span>} <span style=color:#a6e22e>config</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>disqusConfig</span>} <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/div&gt;</span>
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The <code>disqusShortname</code> is the value that we got in the previous section when adding the website to <a href=https://disqus.com>Disqus</a>.</p><p>To see the few changes I made to this blog to add the comments section just refer to the commit <a href=%5Bto.do%5D(https://github.com/pasdam/dev.pasdam.github.io/commit/6186e53a81e75fefea17ac269d2d00fee34237d3)>6186e53</a>.</p><hr><p>Sources:</p><ol><li><a href=https://mk.gg/add-disqus-comments-to-gatsby-blog/>https://mk.gg/add-disqus-comments-to-gatsby-blog/</a></li><li><a href=https://github.com/disqus/disqus-react>https://github.com/disqus/disqus-react</a></li></ol></div></div></div></body></html>